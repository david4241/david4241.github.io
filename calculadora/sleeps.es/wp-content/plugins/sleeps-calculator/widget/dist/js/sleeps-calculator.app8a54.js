(function(e){function t(t){for(var n,s,u=t[0],l=t[1],i=t[2],d=0,p=[];d<u.length;d++)s=u[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);a&&a(t);while(p.length)p.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==o[l]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},c=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/wp-content/plugins/sleeps-calculator/widget/dist/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var a=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"08cc":function(e,t,r){"use strict";r("3619")},"150b":function(e,t,r){},3619:function(e,t,r){},5391:function(e,t,r){"use strict";r("d8b2")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("5530"),o=(r("e623"),r("e379"),r("5dc8"),r("37e1"),r("8bbf")),c={class:"sleeps_calc-container"},s={class:"sleeps_calc-form"},u={class:"sleeps_calc-button-mode"},l={class:"sleeps_calc-select"},i={key:0,class:"sleeps_calc-intro"},a={key:1,class:"sleeps_calc-intro"};function d(e,t,r,n,d,p){var f=Object(o["resolveComponent"])("Mode"),h=Object(o["resolveComponent"])("HourSelector"),b=Object(o["resolveComponent"])("Results");return Object(o["openBlock"])(),Object(o["createBlock"])("div",c,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])("form",null,[Object(o["createVNode"])("div",u,[Object(o["createVNode"])(f,{mode:"wake",selected:d.mode,onSetMode:p.setMode},null,8,["selected","onSetMode"]),Object(o["createVNode"])(f,{mode:"sleep",selected:d.mode,onSetMode:p.setMode},null,8,["selected","onSetMode"])]),Object(o["createVNode"])("div",l,[Object(o["createVNode"])(h,{"hour-selected":p.hourSelected,onSelected:p.handlerHourSelected},null,8,["hour-selected","onSelected"])])])]),"wake"===d.mode?(Object(o["openBlock"])(),Object(o["createBlock"])("p",i,Object(o["toDisplayString"])(e.$t("text.wake",{hourSelected:p.replaceToH(p.hourSelected)})),1)):Object(o["createCommentVNode"])("",!0),"sleep"===d.mode?(Object(o["openBlock"])(),Object(o["createBlock"])("p",a,Object(o["toDisplayString"])(e.$t("text.sleep",{hourSelected:p.replaceToH(p.hourSelected)})),1)):Object(o["createCommentVNode"])("",!0),d.showResult?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:2,results:d.results},null,8,["results"])):Object(o["createCommentVNode"])("",!0)])}r("ac1f"),r("5319"),r("d81d");var p=r("3835");r("1276");function f(e){if("string"!==typeof e)throw Error("hour is not string");var t=e.split(":"),r=Object(p["a"])(t,2),n=r[0],o=r[1],c=h(n),s=b(o||"00");return[c,s]}function h(e){var t=+e;if(isNaN(t))throw Error("hour is not number");if(t<0||t>24)throw Error("hour must between 0 and 24");return t}function b(e){var t=+e;if(isNaN(t))throw Error("minutes is not number");if(t<0||t>59)throw Error("minutes must between 0 and 60");return t}function m(e,t){var r=h(String(e)),n=b(String(t));return new Date(Date.UTC(1977,4,27,r,n))}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fr-FR",n=f(String(e)),o=f(String(t)),c=Object(p["a"])(o,2),s=c[0],u=c[1],l=m(n[0],n[1]);return l.setHours(l.getUTCHours()+s,l.getUTCMinutes()+u),l.toLocaleTimeString(r,{hour:"2-digit",minute:"2-digit"})}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fr-FR",n=f(String(e)),o=f(String(t)),c=Object(p["a"])(o,2),s=c[0],u=c[1],l=m(n[0],n[1]);return l.setHours(l.getUTCHours()-s,l.getUTCMinutes()-u),l.toLocaleTimeString(r,{hour:"2-digit",minute:"2-digit"})}r("caad6"),r("2532");function j(e){var t,r=0;if(isNaN(e)&&e.includes(":")){var n=e.split(":");t=+n[0],r=n[1]?+n[1]:0}else t=+e;if(isNaN(t)||isNaN(r))throw Error("hour or minute is not number");if(t<0||t>24||r<0||r>59)throw Error("hour must between 0 and 24 o minute must between 0 and 59");var o=60*t+r;return Math.floor(o/90)}var w={class:"sleeps_calc-result"};function S(e,t,r,n,c,s){var u=Object(o["resolveComponent"])("Result");return Object(o["openBlock"])(),Object(o["createBlock"])("div",w,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.results,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:t,index:t,result:e},null,8,["index","result"])})),128))])}var g={class:"sleeps_calc-result-avis"},k={key:0};function y(e,t,r,n,c,s){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["sleeps_calc-result-element",{"wsc-show":c.show}]},[Object(o["createVNode"])("strong",null,Object(o["toDisplayString"])(s.replaceToH(r.result.value)),1),Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.$t("result.text",{duration:s.convertToHalf(r.result.duration),cycles:r.result.cycles})),1),Object(o["createVNode"])("div",g,[r.result.recommended?(Object(o["openBlock"])(),Object(o["createBlock"])("span",k,Object(o["toDisplayString"])(e.$t("text.recommended")),1)):Object(o["createCommentVNode"])("",!0)])],2)}r("a9e3"),r("99af");var N={name:"Result",props:{index:{type:Number,default:0},result:{type:Object,required:!0,default:function(){return{value:"",cycle:"",duration:"",recommended:!1}}}},data:function(){return{show:!1}},watch:{result:function(){var e=this;this.show=!1,setTimeout((function(){return e.show=!0}),300+50*this.index)}},mounted:function(){var e=this;setTimeout((function(){return e.show=!0}),300+50*this.key)},methods:{replaceToH:function(e){return isNaN(e)?e.replace(":","h"):e},convertToHalf:function(e){if(isNaN(e)){var t=e.split(":"),r=parseInt("".concat(t[1]/6*10),10);return"".concat(parseFloat("".concat(parseInt(t[0],10),".").concat(r<10?"0":"").concat(r))).replace(".",",")}return e}}};r("b7ca");N.render=y;var B=N,M={name:"Results",components:{Result:B},props:{results:{type:Array,required:!0,default:function(){return[]}}}};r("da02");M.render=S;var H=M,T=Object(o["withScopeId"])("data-v-4730125e"),_=T((function(e,t,r,n,c,s){return Object(o["openBlock"])(),Object(o["createBlock"])("button",{class:["wsc-btn",{selected:r.selected===r.mode}],onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return s.setMode&&s.setMode.apply(s,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.$t("btn.".concat(r.mode))),3)})),V={name:"Mode",props:{mode:{type:String,required:!0},selected:{type:String,default:""}},methods:{setMode:function(){this.$emit("setMode",this.mode)}}};r("5391");V.render=_,V.__scopeId="data-v-4730125e";var x=V;function C(e,t,r,n,c,s){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selected=e}),class:"kt-no-select2"},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(c.dataSelect,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("option",{key:e,value:e},Object(o["toDisplayString"])(e.replace(":","h")),9,["value"])})),128))],512)),[[o["vModelSelect"],c.selected]])}var R=function(){for(var e=[],t=0;t<24;t++)e.push("".concat(t<10?"0".concat(t):t,":00")),e.push("".concat(t<10?"0".concat(t):t,":30"));return e},D={name:"HourSelector",props:{hourSelected:{type:String,required:!0}},data:function(){return{selected:"",dataSelect:R()}},mounted:function(){this.selected=this.hourSelected},watch:{hourSelected:function(){this.selected=this.hourSelected},selected:function(){this.$emit("selected",this.selected)}}};r("08cc");D.render=C;var E=D,F={components:{HourSelector:E,Mode:x,Results:H},data:function(){return{mode:"wake",wakeHourSelected:"07:00",sleepHourSelected:"22:00",results:[],showResult:!0}},mounted:function(){this.handlerForm()},watch:{hourSelected:function(){this.handlerForm()}},computed:{hourSelected:{set:function(e){if("wake"===this.mode)return this.wakeHourSelected=e;this.sleepHourSelected=e},get:function(){return"wake"===this.mode?this.wakeHourSelected:this.sleepHourSelected}}},methods:{replaceToH:function(e){return isNaN(e)?e.replace(":","h"):e},handlerHourSelected:function(e){this.hourSelected=e},setMode:function(e){this.mode=e,this.handlerForm()},handlerForm:function(){var e=this;this.showResult=!1,"wake"===this.mode?this.results=[9,"7:30",6,"4:30"].map((function(t,r){return{duration:t,value:O(e.hourSelected,t),cycles:j(t),recommended:r<2}})):"sleep"===this.mode&&(this.results=[9,"7:30",6,"4:30"].map((function(t,r){return{duration:t,value:v(e.hourSelected,t),cycles:j(t),recommended:r<2}}))),this.showResult=!0}}};r("57d9");F.render=d;var P=F,$=function(e,t){return e.replace(/{{(\w+)}}/g,(function(e,r){return t[r]||e}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e;return r&&(n=r.text[e]||e),$(n,t)};r("150b");window.addEventListener("DOMContentLoaded",(function(){var e=window,t=e.Vue,r=e.wsc_lang,o=document.getElementById("widget-sleeps-calculator");if(o){var c=t.createApp(P,Object(n["a"])({},o.dataset));c.config.globalProperties.$t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(e,t,r)},c.mount(o)}}))},"57d9":function(e,t,r){"use strict";r("a23e")},"763b":function(e,t,r){},"896d":function(e,t,r){},"8bbf":function(e,t){e.exports=Vue},a23e:function(e,t,r){},b7ca:function(e,t,r){"use strict";r("763b")},d8b2:function(e,t,r){},da02:function(e,t,r){"use strict";r("896d")}});
//# sourceMappingURL=sleeps-calculator.app.js.map